<div ng-controller="MyShipsController">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <label class="btn btn-default" ng-click="getMyShips()">get ships</label>
            </div>
        </div>
        <div class="row" ng-repeat='ship in shipsArray'>
            <div class="col-md-12 ship">
                <div class="row"><h3>{{ship.shipname }} ({{ship.vesselType }})</h3></div>
                <div class="row" >
                    <div class="col-md-3">
                        <H4>Hull</H4> {{ship.hull }}
                    </div>
                    <div class="col-md-3">
                        <H4>Floatation</H4> {{ship.floatation }}
                    </div>
                    <div class="col-md-3">
                        <H4>Crew</H4> {{ship.crew }}
                    </div>
                    <div class="col-md-3">
                        <H4>Stack</H4> {{ship.crew }}
                    </div>
                </div>
                <div class="row" >
                    <div class="col-md-4">
                        <div class ="row"><H4>Forward Speed</H4></div>
                        <div class ="row"><div class="col-md-1" ng-repeat='speed in ship.forwardSpeed track by $index'>{{speed}}</div></div>
                    </div>
                    <div class="col-md-4">
                        <div class ="row"><H4>Reverse Speed</H4></div>
                        <div class ="row"><div class="col-md-1" ng-repeat='speed in ship.reverseSpeed track by $index'>{{speed}}</div></div>
                    </div>
                    <div class="col-md-4"></div>
                </div>
                <div class ="row">
                    <div id="gunplacement" class="col-md-6">
                        <div ng-if="shipIsWV(ship)">
                            <div class ="row">
                                <div id="rightbow" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'bow', 'right')" ng-repeat="(key, item) in ship.armament.bow.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="rightforeship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'foreship', 'right')" ng-repeat="(key, item) in ship.armament.foreship.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>   
                                </div>
                                <div id="rightmidship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'midship', 'right')" ng-repeat="(key, item) in ship.armament.midship.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="rightaftership" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'aftership', 'right')" ng-repeat="(key, item) in ship.armament.aftership.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="rightstern" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'stern', 'right')" ng-repeat="(key, item) in ship.armament.stern.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class ="row">
                                <div id="pivotbow" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'bow', 'pivot')" ng-repeat="(key, item) in ship.armament.bow.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="pivotforeship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'foreship', 'pivot')" ng-repeat="(key, item) in ship.armament.foreship.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="pivotmidship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'midship', 'pivot')" ng-repeat="(key, item) in ship.armament.midship.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-forward-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="pivotaftership" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'aftership', 'pivot')" ng-repeat="(key, item) in ship.armament.aftership.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-aft.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-aft-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/pivot-aft-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="pivotstern"  class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'stern', 'pivot')" ng-repeat="(key, item) in ship.armament.stern.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class ="row">
                                <div id="leftbow" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'bow', 'left')" ng-repeat="(key, item) in ship.armament.bow.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="leftforeship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'bow', 'left')" ng-repeat="(key, item) in ship.armament.bow.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="leftmidship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'midship', 'left')" ng-repeat="(key, item) in ship.armament.midship.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="leftaftership" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'aftership', 'left')" ng-repeat="(key, item) in ship.armament.aftership.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="leftstern" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'stern', 'left')" ng-repeat="(key, item) in ship.armament.stern.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="shipIsCasemate(ship)">
                            <div class ="row">
                                <div id="rightbow" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'bow', 'right')" ng-repeat="(key, item) in ship.armament.bow.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'bow', 'right')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="rightforeship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'foreship', 'right')" ng-repeat="(key, item) in ship.armament.foreship.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'foreship', 'right')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="rightmidship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'midship', 'right')" ng-repeat="(key, item) in ship.armament.midship.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'midship', 'right')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="rightaftership" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'aftership', 'right')" ng-repeat="(key, item) in ship.armament.aftership.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'aftership', 'right')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="rightstern" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'stern', 'right')" ng-repeat="(key, item) in ship.armament.stern.right">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/right-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'stern', 'right')" ng-click="fireShot(ship.armament.stern.right)"><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                            </div>
                            <div class ="row">
                                
                                <div id="pivotbow" class ="col-md-2 gun-div" >
                                    <div ng-if="gunInSection(ship, 'bow', 'pivot')" ng-repeat="(key, item) in ship.armament.bow.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'bow', 'pivot')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                
                                <div id="pivotforeship" class ="col-md-2 gun-div" >
                                    <div ng-if="gunInSection(ship, 'foreship', 'pivot')" ng-repeat="(key, item) in ship.armament.foreship.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'foreship', 'pivot')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                
                                <div id="pivotmidship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'midship', 'pivot')" ng-repeat="(key, item) in ship.armament.midship.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-fore-pivot-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'midship', 'pivot')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                
                                <div id="pivotaftership" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'aftership', 'pivot')" ng-repeat="(key, item) in ship.armament.aftership.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-aft-pivot.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-aft-pivot-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-aft-pivot-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'aftership', 'pivot')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="pivotstern" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'stern', 'pivot')" ng-repeat="(key, item) in ship.armament.stern.pivot">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-aft-pivot.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-aft-pivot-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/casemate-aft-pivot-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'stern', 'pivot')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                
                            </div>
                            <div class ="row">
                                <div id="leftbow" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'bow', 'left')" ng-repeat="(key, item) in ship.armament.bow.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'bow', 'left')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="leftforeship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'foreship', 'left')" ng-repeat="(key, item) in ship.armament.foreship.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'foreship', 'left')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="leftmidship" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'midship', 'left')" ng-repeat="(key, item) in ship.armament.midship.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'midship', 'left')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="leftaftership" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'aftership', 'left')" ng-repeat="(key, item) in ship.armament.aftership.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'aftership', 'left')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                                <div id="leftstern" class ="col-md-2 gun-div">
                                    <div ng-if="gunInSection(ship, 'stern', 'left')" ng-repeat="(key, item) in ship.armament.stern.left">
                                        <div ng-if="item.status === 'good'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'damaged'">
                                            <div ng-click="fireShot(ship, item)" uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-damaged.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                        <div ng-if="item.status === 'destroyed'">
                                            <div uib-popover={{item.name}} popover-trigger="mouseenter" type="text" ng-model="item.name">
                                                <img src="images/left-destroyed.png" height="40" width="40"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div ng-if="!gunInSection(ship, 'stern', 'left')" ><img src="images/blank.png" height="40" width="40"/></div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="shipIsMonitor(ship)">
                            
                            
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class ="col-md-3">Target: 
                        <input uib-popover="Name of the ship being targeted" popover-trigger="mouseenter" type="text" class="form-control" ng-model="shotParams.target" 
                          placeholder="unknown" uib-typeahead="shipName for shipName in getTargetShips()" typeahead-loading="loadingShips" typeahead-no-results="noTargetResults"/>
                        </div>
                        <div class ="col-md-3">Range: <input uib-popover="Range to the ship being targeted" popover-trigger="mouseenter" type="text" ng-model="shotParams.range" class="form-control" /></div>
                        <div class ="col-md-3">Shot Number: {{shotParams.shotnumber}}</div>
                        <div class ="col-md-3">
                            <div class="dropdown">
                                  Side
                                  <input uib-popover="Name of the ship being targeted" popover-trigger="mouseenter" type="text" class="form-control" ng-model="shotParams.rightLeft" 
                                      placeholder="unknown" uib-typeahead="side for side in ['right','left']" typeahead-loading="loadingShips" typeahead-no-results="noTargetResults"/>
                                    </div>
                            </div>
                            <div class ="col-md-3"></div>
                            <div class ="col-md-3"></div>
                        </div>
                    </div>
                </div>    
                
                <div >  
                    <div >
                        <div >
                            <div >
                            <h5 id="shotResultsTitle">Shot Results</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                            <div class="modal-body">
                                <div class ="row">
                                    <div class ="col-md-2"><h5>Target:</h5> {{lastShotResponse.data.target}}</div>
                                    <div class ="col-md-2"><h5>gun:</h5> {{lastShotResponse.data.gun}}</div>
                                    <div class ="col-md-2"><h5>toHit:</h5> {{lastShotResponse.data.rolls.toHit}}</div>
                                    <div class ="col-md-2"><h5>hitEffect:</h5> {{lastShotResponse.data.rolls.hitEffect}}</div>
                                    <div class ="col-md-2"><h5>penetration:</h5> {{lastShotResponse.data.rolls.penetration}}</div>
                                    <div class ="col-md-2"><h5>specialHit:</h5> {{lastShotResponse.data.rolls.specialHit}}</div>
                                </div>
                                <div class ="row">
                                    <div class ="col-md-2"><h5>fireType:</h5> {{lastShotResponse.data.fireType}}</div>
                                    <div class ="col-md-2"><h5>shotType:</h5> {{lastShotResponse.data.shotType}}</div>
                                    <div class ="col-md-2"><h5>hitEffectivenessPenaltyFromFires:</h5> {{lastShotResponse.data.hitEffectivenessPenaltyFromFires}}</div>
                                    <div class ="col-md-2"><h5>rightLeft:</h5> {{lastShotResponse.data.rightLeft}}
                                    <div class ="col-md-2"><h5>range: </h5>{{lastShotResponse.data.range}}</div>
                                    <div class ="col-md-2"><h5>penetrationFactor:</h5> {{lastShotResponse.data.penetrationFactor}}</div>
                                </div>
                                <div class ="row">
                                    <div class ="col-md-2"><h5>targetAspect:</h5> {{lastShotResponse.data.targetAspect}}</div>
                                    <div class ="col-md-2"><h5>gunDamaged:</h5> {{lastShotResponse.data.gunDamaged}}</div>
                                    <div class ="col-md-2"><h5>turn:</h5> {{lastShotResponse.data.turn}}</div>
                                    <div class ="col-md-2"><h5>positionOfHit:</h5> {{lastShotResponse.data.positionOfHit}}</div>
                                    <div class ="col-md-2"><h5>sectionOfHit:</h5> {{lastShotResponse.data.sectionOfHit}}</div>
                                    <div class ="col-md-2"><h5>targetHit:</h5> {{lastShotResponse.data.targetHit}}</div>
                                </div>
                                <div class ="row">
                                    <div class ="col-md-2"><h5>penetration:</h5> {{lastShotResponse.data.damage.penetration}}</div>
                                    <div class ="col-md-2"><h5>gunDamaged:</h5> {{lastShotResponse.damage}}</div>
                                    <div class ="col-md-2"><h5>criticalPenetration message:</h5> {{lastShotResponse.data.damage.criticalPenetration.message}}</div>
                                    <div class ="col-md-2"><h5>gunDestroyed:</h5> {{lastShotResponse.data.damage.criticalPenetration.gunDestroyed}}</div>
                                    <div class ="col-md-2"><h5>engineRestart:</h5> {{lastShotResponse.data.damage.criticalPenetration.engineRestart}}</div>
                                    <div class ="col-md-2"><h5>specialHit message:</h5> {{lastShotResponse.data.damage.specialHit.message}}</div>
                                </div>
                                <div class ="row">
                                    <div class ="col-md-2"><h5>specialHit message:</h5> {{lastShotResponse.damage.data.specialHit.message}}</div>
                                    <div class ="col-md-2"><h5>specialHit gunDestroyed:</h5> {{lastShotResponse.data.damage.specialHit.gunDestroyed}}</div>
                                    <div class ="col-md-2"><h5>specialHit gunDamaged:</h5> {{lastShotResponse.data.damage.specialHit.gunDamaged}}</div>
                                    <div class ="col-md-2"></div>
                                    <div class ="col-md-2"></div>
                                    <div class ="col-md-2"></div>
                                </div>
                                <div class ="row">
                                    <div class ="col-md-2"><h5>armor:</h5> {{lastShotResponse.data.damage.armor}}</div>
                                    <div class ="col-md-2"><h5>hull:</h5> {{lastShotResponse.data.damage.hull}}</div>
                                    <div class ="col-md-2"><h5>crew:</h5> {{lastShotResponse.data.damage.crew}}</div>
                                    <div class ="col-md-2"><h5>floatation:</h5> {{lastShotResponse.data.damage.floatation}}</div>
                                    <div class ="col-md-2"><h5>speed:</h5> {{lastShotResponse.data.damage.speed}}</div>
                                    <div class ="col-md-2"><h5>ram: </h5>{{lastShotResponse.data.damage.ram}}</div>
                                </div>
                                <div class ="row">
                                    <div class ="col-md-2"><h5>stack:</h5> {{lastShotResponse.data.damage.stack}}</div>
                                    <div class ="col-md-2"><h5>fires:</h5> {{lastShotResponse.data.damage.fires}}</div>
                                    <div class ="col-md-2"><h5>turningCapacity:</h5> {{lastShotResponse.data.damage.turningCapacity}}</div>
                                    <div class ="col-md-2"><h5>penetrationDifferential:</h5> {{lastShotResponse.data.penetrationDifferential}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                        
                </div>
            </div>
        </div> 
        
    </div>
    